# 1 Make sure that you have the necessary infrastructure and libraries required to build OSRM. 

sudo apt update
sudo apt install -y git cmake build-essential jq htop
sudo apt install -y liblua5.2-dev libboost-all-dev libprotobuf-dev libtbb-dev libstxxl-dev libbz2-dev

# 2 Grab the source directly from the repository on GitHub

git clone --branch v5.18.0 https://github.com/Project-OSRM/osrm-backend.git

# 3 Move into the source folder.

cd osrm-backend/

# 4 Create a build folder and then run cmake to generate Makefiles.

mkdir build
cd build/
cmake ..

# 5 Next initiate the build.

make

# 6 When the build completes, make the install target and go back to osrm-backend/ folder.

sudo make install
cd ..

# 7 Download Danish map

wget http://download.geofabrik.de/europe/denmark-latest.osm.pbf

# 8 Extract the routing data

osrm-extract denmark-latest.osm.pbf -p profiles/car.lua

# 9 Create data structures that facilitate finding the shortest route between two points.

osrm-contract denmark-latest.osrm

# 10 Launch a HTTP server which exposes the OSRM API

osrm-routed denmark-latest.osrm

# 11 Open a browser and send the request to get matrix of distances in meters of the fastest routes between provided locations.

http://localhost:5000/table/v1/driving/12.28635,55.663151;12.455185,55.754555;10.206692,56.101378000000004;9.623871000000001,55.515935;12.585484,55.678495999999996;9.128516000000001,55.723464;9.122261,55.73321899999999;12.597707000000002,55.68809;12.561622999999999,55.660651;12.516743,55.658051;12.494715,55.965061999999996;12.590933999999999,55.681931999999996;12.559292999999998,55.67596999999999;12.497247999999999,55.75121800000001;9.145088000000001,55.949837;10.093572,56.154219999999995;9.122486,55.955817;9.7588571,55.054902399999996;12.484345,55.897529000000006;10.057007775533068,56.1611078;9.669192,56.380773;12.488103,55.873438;9.623871000000001,55.515935;9.121128,55.733948;12.567677,55.665634;12.387155,55.738723;10.146058,56.108449;12.387224,55.740880000000004;12.639366,55.629513;12.393723,55.72676800000001;12.591288,55.70865500000001;12.495474,55.800035;12.58026,55.629304000000005;12.49586,55.775355000000005;9.130554,55.724598;12.294416,55.749182;12.565704,55.675515000000004;12.114989999999999,55.259938;10.1518955,56.123163500000004;9.837108,55.843391000000004;9.935113000000001,57.054409;12.581924,55.670896;12.5433837,55.67595849999999;11.103608,55.65493000000001;12.481045,55.898256999999994;12.5804916,55.6826469;12.589654,55.683347;9.857047,54.994804;12.387155,55.738723;12.475729,55.733454;11.954778,55.560193000000005;12.598554,55.688614;12.584221000000001,55.63985699999999;12.484367,55.70989599999999;12.483439,55.734253;12.379904,55.732466;9.97663,57.455049;10.2059215,56.1494395;12.163282,55.6474;10.1596948,56.1220185;12.360786000000001,55.662009999999995;12.417693,55.667398;12.27597,55.647521999999995;12.590014,55.689618;12.572184,55.618418000000005;9.577644,56.199565;9.538642,55.702059;12.577893,55.631225;8.484418,55.510467000000006;10.157896000000001,56.13264399999999;12.1057399,55.600604700000005;9.798884,55.836288;12.534925999999999,55.700104;12.466225,55.731609;12.3043325,55.8230181;8.785773599999999,55.938062800000004;12.456494000000001,55.680013;12.424532000000001,55.716016;12.569543,55.726312;12.572486999999999,55.740297;12.363503999999999,55.662417000000005;8.826752,55.059453000000005;9.857445,56.984255000000005;10.213251,56.145366;12.381113000000001,55.650783;12.275955999999999,55.919727;10.058082,55.380618000000005;9.859318,55.85883199999999;12.335231,55.731519999999996;12.329951,55.730211;9.815922,55.857744?annotations=distance

# 12 Save the data

# References:

OSRM API: https://github.com/Project-OSRM/osrm-backend/blob/master/docs/http.md

Turorial how to build a local OSRM instance on Ubuntu: https://datawookie.netlify.com/blog/2017/09/building-a-local-osrm-instance/

OpenStreetMap Data Extracts: http://download.geofabrik.de 

List of 100 the most profitable companies in Denmark (from which addresses are taken and coordinates are generated): http://www.largestcompanies.com/toplists/denmark/largest-companies-by-earnings?fbclid=IwAR1V7Kl3TeoY1aVb00XjUFUCDDWFn6F_ltKiRUb-4YHlOG5e9x2Tov2t1aU